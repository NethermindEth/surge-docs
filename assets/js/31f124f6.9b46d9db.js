"use strict";(self.webpackChunksurge_docs=self.webpackChunksurge_docs||[]).push([[202],{2629:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>d,frontMatter:()=>s,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"guides/surge-on-hoodi/run-bridge-ui","title":"Run Bridge UI","description":"This guide is fairly similar to the Deploy Bridge UI guide. The main difference is that this guide is focused on running the components of the Surge rollup on the Hoodi testnet, while the other one is for the devnet.","source":"@site/docs/guides/surge-on-hoodi/run-bridge-ui.mdx","sourceDirName":"guides/surge-on-hoodi","slug":"/guides/surge-on-hoodi/run-bridge-ui","permalink":"/docs/guides/surge-on-hoodi/run-bridge-ui","draft":false,"unlisted":false,"editUrl":"https://github.com/NethermindEth/surge-docs/tree/main/docs/guides/surge-on-hoodi/run-bridge-ui.mdx","tags":[],"version":"current","lastUpdatedAt":1748506829000,"sidebarPosition":5,"frontMatter":{"title":"Run Bridge UI","sidebar_position":5},"sidebar":"tutorialSidebar","previous":{"title":"Run Relayer","permalink":"/docs/guides/surge-on-hoodi/run-relayer"},"next":{"title":"Run your own Surge Devnet","permalink":"/docs/guides/running-surge/"}}');var t=r(4848),o=r(8453);r(5537),r(9329);const s={title:"Run Bridge UI",sidebar_position:5},a="Run Bridge UI",l={},c=[{value:"1. Clone the Repository",id:"1-clone-the-repository",level:2},{value:"2. Navigate to the Bridge UI Directory",id:"2-navigate-to-the-bridge-ui-directory",level:2},{value:"3. Environment Configuration",id:"3-environment-configuration",level:2},{value:"4. Set Up SSL Certificates",id:"4-set-up-ssl-certificates",level:2},{value:"5. Configure Nginx Reverse Proxy",id:"5-configure-nginx-reverse-proxy",level:2},{value:"Prerequisites",id:"prerequisites",level:3},{value:"Update Configuration",id:"update-configuration",level:3},{value:"6. Configure Application Components",id:"6-configure-application-components",level:2},{value:"7. Deploy Services",id:"7-deploy-services",level:2},{value:"Verification",id:"verification",level:2}];function u(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"run-bridge-ui",children:"Run Bridge UI"})}),"\n",(0,t.jsx)(n.admonition,{type:"tip",children:(0,t.jsxs)(n.p,{children:["This guide is fairly similar to the ",(0,t.jsx)(n.a,{href:"/docs/guides/running-surge/deploy-bridge-ui",children:"Deploy Bridge UI"})," guide. The main difference is that this guide is focused on running the components of the Surge rollup on the Hoodi testnet, while the other one is for the devnet."]})}),"\n",(0,t.jsx)(n.p,{children:"The Bridge UI is the user-facing interface for transferring assets between Layer 1 and Layer 2, enabling seamless interaction with Surge\u2019s cross-chain functionality. It relies on the underlying Relayer and smart contracts to facilitate these transfers securely."}),"\n",(0,t.jsx)(n.p,{children:"This guide walks you through running the Surge Bridge UI, including all necessary configurations and services."}),"\n",(0,t.jsxs)(n.p,{children:["To see how the Bridge UI fits into the overall system, refer to the ",(0,t.jsx)(n.a,{href:"/docs/about/architecture",children:"Surge Architecture documentation"}),"."]}),"\n",(0,t.jsx)(n.h2,{id:"1-clone-the-repository",children:"1. Clone the Repository"}),"\n",(0,t.jsxs)(n.p,{children:["First, clone the ",(0,t.jsx)(n.a,{href:"https://github.com/NethermindEth/surge-taiko-mono",children:"Surge Taiko Mono repository"})," and navigate to the project directory:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"git clone https://github.com/NethermindEth/surge-taiko-mono.git\ncd surge-taiko-mono\n"})}),"\n",(0,t.jsx)(n.h2,{id:"2-navigate-to-the-bridge-ui-directory",children:"2. Navigate to the Bridge UI Directory"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"cd packages/bridge-ui\n"})}),"\n",(0,t.jsx)(n.h2,{id:"3-environment-configuration",children:"3. Environment Configuration"}),"\n",(0,t.jsxs)(n.p,{children:["Create your environment configuration file (",(0,t.jsx)(n.code,{children:".env"}),") by copying the provided sample:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"cp .env.hoodi .env\n"})}),"\n",(0,t.jsx)(n.h2,{id:"4-set-up-ssl-certificates",children:"4. Set Up SSL Certificates"}),"\n",(0,t.jsx)(n.p,{children:"Navigate to the Bridge UI nginx directory and generate the SSL certificates:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"cd ./nginx\nchmod +x ./generate-certs.sh\n./generate-certs.sh\n"})}),"\n",(0,t.jsx)(n.h2,{id:"5-configure-nginx-reverse-proxy",children:"5. Configure Nginx Reverse Proxy"}),"\n",(0,t.jsx)(n.h3,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,t.jsx)(n.p,{children:"Ensure you have the following endpoints ready:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"L1 RPC URL"}),"\n",(0,t.jsx)(n.li,{children:"L1 Blockscout URL"}),"\n",(0,t.jsx)(n.li,{children:"L1 to L2 Relayer URL"}),"\n",(0,t.jsx)(n.li,{children:"L2 RPC URL"}),"\n",(0,t.jsx)(n.li,{children:"L2 Blockscout URL"}),"\n",(0,t.jsx)(n.li,{children:"L2 to L1 Relayer URL"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"update-configuration",children:"Update Configuration"}),"\n",(0,t.jsxs)(n.p,{children:["Edit the ",(0,t.jsx)(n.code,{children:"./nginx/nginx.conf"})," file with your actual URLs. For example:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-nginx",children:"# L1 RPC endpoint\nlocation /l1-rpc/ {\n    proxy_pass http://your-l1-rpc-endpoint:32002/;\n    proxy_http_version 1.1;\n    proxy_set_header Host $host;\n    proxy_set_header X-Real-IP $remote_addr;\n    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n    proxy_set_header X-Forwarded-Proto $scheme;\n}\n"})}),"\n",(0,t.jsx)(n.admonition,{type:"warning",children:(0,t.jsxs)(n.p,{children:["Ensure all URLs used in configuration files are accessible via ",(0,t.jsx)(n.strong,{children:"HTTPS"}),"."]})}),"\n",(0,t.jsx)(n.h2,{id:"6-configure-application-components",children:"6. Configure Application Components"}),"\n",(0,t.jsx)(n.p,{children:"Create your network configuration file by copying the provided samples:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"cd ..\ncp ./config/hoodi/configuredBridges.json ./config/\ncp ./config/hoodi/configuredChains.json ./config/\ncp ./config/hoodi/configuredRelayer.json ./config/\ncp ./config/hoodi/configuredCustomTokens.json ./config/\ncp ./config/hoodi/configuredEventIndexer.json ./config/\n"})}),"\n",(0,t.jsx)(n.h2,{id:"7-deploy-services",children:"7. Deploy Services"}),"\n",(0,t.jsx)(n.p,{children:"Use Docker Compose to deploy the Bridge UI and nginx services:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# Deploy Bridge UI\ndocker compose --profile bridge-ui up -d --build\n\n# Deploy Nginx\ndocker compose --profile nginx up -d\n"})}),"\n",(0,t.jsx)(n.h2,{id:"verification",children:"Verification"}),"\n",(0,t.jsx)(n.p,{children:"Use the following commands to verify your services:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# Check container status\ndocker compose ps\n\n# View Bridge UI logs\ndocker compose logs bridge-ui -f\n\n# View Nginx logs\ndocker compose logs nginx -f\n"})}),"\n",(0,t.jsx)(n.admonition,{type:"warning",children:(0,t.jsx)(n.p,{children:"Double-check that all URLs in your nginx config are secured and publicly accessible before deployment."})})]})}function d(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(u,{...e})}):u(e)}},9329:(e,n,r)=>{r.d(n,{A:()=>s});r(6540);var i=r(4164);const t={tabItem:"tabItem_Ymn6"};var o=r(4848);function s(e){let{children:n,hidden:r,className:s}=e;return(0,o.jsx)("div",{role:"tabpanel",className:(0,i.A)(t.tabItem,s),hidden:r,children:n})}},5537:(e,n,r)=>{r.d(n,{A:()=>w});var i=r(6540),t=r(4164),o=r(5627),s=r(6347),a=r(372),l=r(604),c=r(1861),u=r(8749);function d(e){return i.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,i.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function h(e){const{values:n,children:r}=e;return(0,i.useMemo)((()=>{const e=n??function(e){return d(e).map((e=>{let{props:{value:n,label:r,attributes:i,default:t}}=e;return{value:n,label:r,attributes:i,default:t}}))}(r);return function(e){const n=(0,c.XI)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[n,r])}function g(e){let{value:n,tabValues:r}=e;return r.some((e=>e.value===n))}function p(e){let{queryString:n=!1,groupId:r}=e;const t=(0,s.W6)(),o=function(e){let{queryString:n=!1,groupId:r}=e;if("string"==typeof n)return n;if(!1===n)return null;if(!0===n&&!r)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return r??null}({queryString:n,groupId:r});return[(0,l.aZ)(o),(0,i.useCallback)((e=>{if(!o)return;const n=new URLSearchParams(t.location.search);n.set(o,e),t.replace({...t.location,search:n.toString()})}),[o,t])]}function f(e){const{defaultValue:n,queryString:r=!1,groupId:t}=e,o=h(e),[s,l]=(0,i.useState)((()=>function(e){let{defaultValue:n,tabValues:r}=e;if(0===r.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!g({value:n,tabValues:r}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${n}" but none of its children has the corresponding value. Available values are: ${r.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return n}const i=r.find((e=>e.default))??r[0];if(!i)throw new Error("Unexpected error: 0 tabValues");return i.value}({defaultValue:n,tabValues:o}))),[c,d]=p({queryString:r,groupId:t}),[f,m]=function(e){let{groupId:n}=e;const r=function(e){return e?`docusaurus.tab.${e}`:null}(n),[t,o]=(0,u.Dv)(r);return[t,(0,i.useCallback)((e=>{r&&o.set(e)}),[r,o])]}({groupId:t}),x=(()=>{const e=c??f;return g({value:e,tabValues:o})?e:null})();(0,a.A)((()=>{x&&l(x)}),[x]);return{selectedValue:s,selectValue:(0,i.useCallback)((e=>{if(!g({value:e,tabValues:o}))throw new Error(`Can't select invalid tab value=${e}`);l(e),d(e),m(e)}),[d,m,o]),tabValues:o}}var m=r(9136);const x={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var v=r(4848);function b(e){let{className:n,block:r,selectedValue:i,selectValue:s,tabValues:a}=e;const l=[],{blockElementScrollPositionUntilNextRender:c}=(0,o.a_)(),u=e=>{const n=e.currentTarget,r=l.indexOf(n),t=a[r].value;t!==i&&(c(n),s(t))},d=e=>{let n=null;switch(e.key){case"Enter":u(e);break;case"ArrowRight":{const r=l.indexOf(e.currentTarget)+1;n=l[r]??l[0];break}case"ArrowLeft":{const r=l.indexOf(e.currentTarget)-1;n=l[r]??l[l.length-1];break}}n?.focus()};return(0,v.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,t.A)("tabs",{"tabs--block":r},n),children:a.map((e=>{let{value:n,label:r,attributes:o}=e;return(0,v.jsx)("li",{role:"tab",tabIndex:i===n?0:-1,"aria-selected":i===n,ref:e=>{l.push(e)},onKeyDown:d,onClick:u,...o,className:(0,t.A)("tabs__item",x.tabItem,o?.className,{"tabs__item--active":i===n}),children:r??n},n)}))})}function y(e){let{lazy:n,children:r,selectedValue:o}=e;const s=(Array.isArray(r)?r:[r]).filter(Boolean);if(n){const e=s.find((e=>e.props.value===o));return e?(0,i.cloneElement)(e,{className:(0,t.A)("margin-top--md",e.props.className)}):null}return(0,v.jsx)("div",{className:"margin-top--md",children:s.map(((e,n)=>(0,i.cloneElement)(e,{key:n,hidden:e.props.value!==o})))})}function j(e){const n=f(e);return(0,v.jsxs)("div",{className:(0,t.A)("tabs-container",x.tabList),children:[(0,v.jsx)(b,{...n,...e}),(0,v.jsx)(y,{...n,...e})]})}function w(e){const n=(0,m.A)();return(0,v.jsx)(j,{...e,children:d(e.children)},String(n))}},8453:(e,n,r)=>{r.d(n,{R:()=>s,x:()=>a});var i=r(6540);const t={},o=i.createContext(t);function s(e){const n=i.useContext(o);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:s(e.components),i.createElement(o.Provider,{value:n},e.children)}}}]);
<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-guides/running-surge/deploy-l2" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">Deploy L2 and Surge Protocols | Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://docs.surge.wtf/img/logo-dark.png"><meta data-rh="true" name="twitter:image" content="https://docs.surge.wtf/img/logo-dark.png"><meta data-rh="true" property="og:url" content="https://docs.surge.wtf/docs/guides/running-surge/deploy-l2"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Deploy L2 and Surge Protocols | Documentation"><meta data-rh="true" name="description" content="A Layer 2 network builds on top of Layer 1 to increase scalability and reduce transaction costs, while still inheriting L1&#x27;s security. For Surge, the L2 network is where user transactions are executed and blocks are proposed and proven."><meta data-rh="true" property="og:description" content="A Layer 2 network builds on top of Layer 1 to increase scalability and reduce transaction costs, while still inheriting L1&#x27;s security. For Surge, the L2 network is where user transactions are executed and blocks are proposed and proven."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.surge.wtf/docs/guides/running-surge/deploy-l2"><link data-rh="true" rel="alternate" href="https://docs.surge.wtf/docs/guides/running-surge/deploy-l2" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.surge.wtf/docs/guides/running-surge/deploy-l2" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://40BP0L02ED-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="Documentation" href="/opensearch.xml">
<link rel="preconnect" href="https://nethermind.matomo.cloud//piwik.js">
<noscript>
            var img = document.createElement('img');
            img.src = "https://nethermind.matomo.cloud//piwik.php?idsite=6&rec=1&url=https://www.surge.wtf" + location.pathname;
            img.style = "border:0";
            img.alt = "tracker";

            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(img,s);
            </noscript>
<script>window.dev=void 0,(!0===window.dev||"1"!==navigator.doNotTrack&&"1"!==window.doNotTrack)&&(window._paq=window._paq||[],window._paq.push(["setCookieDomain","*.www.surge.wtf"]),window._paq.push(["setTrackerUrl","https://nethermind.matomo.cloud//piwik.php"]),window._paq.push(["setSiteId","6"]),window._paq.push(["enableHeartBeatTimer"]),window.start=new Date,function(){var e=document,t=e.createElement("script"),o=e.getElementsByTagName("script")[0];t.type="text/javascript",t.async=!0,t.defer=!0,t.src="https://nethermind.matomo.cloud//piwik.js",o.parentNode.insertBefore(t,o)}(),!0===window.dev&&(console.debug("[Matomo] Tracking initialized"),console.debug("[Matomo] matomoUrl: https://nethermind.matomo.cloud/, siteId: 6")))</script><link rel="stylesheet" href="/assets/css/styles.da5ee8bc.css">
<script src="/assets/js/runtime~main.76dd5576.js" defer="defer"></script>
<script src="/assets/js/main.14c9da21.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo-dark.png" alt="Nethermind Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo-light.png" alt="Nethermind Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate"></b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/intro">Documentation</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/NethermindEth/surge" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/intro">Introduction to Surge</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/about">About</a><button aria-label="Expand sidebar category &#x27;About&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/docs/guides">Guides</a><button aria-label="Collapse sidebar category &#x27;Guides&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/guides/surge-on-hoodi">Run Surge Hoodi Components</a><button aria-label="Expand sidebar category &#x27;Run Surge Hoodi Components&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/docs/guides/running-surge">Run your own Surge Devnet</a><button aria-label="Collapse sidebar category &#x27;Run your own Surge Devnet&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guides/running-surge/deploy-l1">Deploy L1</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/guides/running-surge/deploy-l2">Deploy L2 and Surge Protocols</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/guides/running-surge/provers">Set up Provers</a><button aria-label="Expand sidebar category &#x27;Set up Provers&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guides/running-surge/deploy-safe-infra">Deploy Safe Infrastructure</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guides/deploy-on-surge">Deploy Your DApp on Surge</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/troubleshooting">Troubleshooting</a><button aria-label="Expand sidebar category &#x27;Troubleshooting&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/guides"><span itemprop="name">Guides</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/guides/running-surge"><span itemprop="name">Run your own Surge Devnet</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Deploy L2 and Surge Protocols</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Deploy L2 and Surge Protocols</h1></header>
<p>A Layer 2 network builds on top of Layer 1 to increase scalability and reduce transaction costs, while still inheriting L1&#x27;s security. For Surge, the L2 network is where user transactions are executed and blocks are proposed and proven.</p>
<p>This guide provides clear instructions for deploying Surge&#x27;s L2 components using the <a href="https://github.com/NethermindEth/simple-surge-node" target="_blank" rel="noopener noreferrer">Simple Surge Node</a>, enabling you to run and test the core rollup logic.</p>
<p>To see how L2 fits into the overall system, refer to the <a href="/docs/about/architecture">Surge Architecture documentation</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="protocol-deployment">Protocol Deployment<a href="#protocol-deployment" class="hash-link" aria-label="Direct link to Protocol Deployment" title="Direct link to Protocol Deployment">​</a></h2>
<p>Follow these steps to set up and deploy your L2 protocol:</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-clone-repository">1. Clone Repository<a href="#1-clone-repository" class="hash-link" aria-label="Direct link to 1. Clone Repository" title="Direct link to 1. Clone Repository">​</a></h3>
<p>Clone the <a href="https://github.com/NethermindEth/simple-surge-node" target="_blank" rel="noopener noreferrer">Simple Surge Node</a> repository and navigate into the directory:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">git clone https://github.com/NethermindEth/simple-surge-node.git</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cd simple-surge-node</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-configure-environment">2. Configure Environment<a href="#2-configure-environment" class="hash-link" aria-label="Direct link to 2. Configure Environment" title="Direct link to 2. Configure Environment">​</a></h3>
<p>The deployment script will automatically handle environment configuration. For Devnet deployments, if no <code>.env</code> file exists, the script will automatically copy <code>.env.devnet</code> to <code>.env</code>.</p>
<p>For Staging or Testnet environments, you&#x27;ll need to manually copy the appropriate environment file:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># For Staging</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cp .env.staging .env</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># For Testnet  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cp .env.testnet .env</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Environment Configuration</div><div class="admonitionContent_BuS1"><p>The environment files include default values for each configuration (devnet, staging, testnet), based on previously generated data. You can customize these values, such as L1 and L2 settings, genesis hashes, and addresses, as needed.</p></div></div>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p><code>host.docker.internal</code> values in the <code>.env</code> file might not work in all environments. If you encounter issues, replace <code>host.docker.internal</code> with your server&#x27;s IP address or hostname.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="3-start-protocol-deployment-script">3. Start Protocol Deployment Script<a href="#3-start-protocol-deployment-script" class="hash-link" aria-label="Direct link to 3. Start Protocol Deployment Script" title="Direct link to 3. Start Protocol Deployment Script">​</a></h3>
<p><a href="https://github.com/NethermindEth/simple-surge-node" target="_blank" rel="noopener noreferrer">Simple Surge Node</a> automates the deployment of L2 and Surge protocol components using a convenient script.
Run the deployment script with:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">./surge-protocol-deployer.sh</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>You&#x27;ll be prompted to confirm the deployment parameters. Here are the main prompts:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">╔══════════════════════════════════════════════════════════════╗</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ⚠️ Select which Surge environment to use:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">║══════════════════════════════════════════════════════════════║</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">║ 1 for Devnet                                                 ║</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">║ 2 for Staging                                                ║</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">║ 3 for Testnet                                                ║</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">║ [default: Devnet]                                            ║</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">╚══════════════════════════════════════════════════════════════╝</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">╔══════════════════════════════════════════════════════════════╗</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ⚠️ Select remote or local:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">║══════════════════════════════════════════════════════════════║</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">║ 0 for local                                                  ║</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">║ 1 for remote                                                 ║</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">║ [default: local]                                             ║</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">╚══════════════════════════════════════════════════════════════╝</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">╔══════════════════════════════════════════════════════════════╗</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ⚠️ Select which devnet machine to use:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">║══════════════════════════════════════════════════════════════║</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">║ 1 for Devnet 1 (prover)                                      ║</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">║ 2 for Devnet 2 (taiko-client)                                ║</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">║ [default: others]                                            ║</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">╚══════════════════════════════════════════════════════════════╝</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">╔══════════════════════════════════════════════════════════════╗</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">║ Use timelocked owner? (true/false) [default: false]          ║</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">╚══════════════════════════════════════════════════════════════╝</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="surge-environment">Surge Environment<a href="#surge-environment" class="hash-link" aria-label="Direct link to Surge Environment" title="Direct link to Surge Environment">​</a></h4>
<ul>
<li><strong>Devnet (1)</strong>: For local testing and development. Deploys full protocol contracts.</li>
<li><strong>Staging (2)</strong>: Uses pre-deployed staging environment. Skips protocol deployment and directs you to run <code>surge-stack-deployer.sh</code> directly.</li>
<li><strong>Testnet (3)</strong>: Uses pre-deployed testnet environment. Skips protocol deployment and directs you to run <code>surge-stack-deployer.sh</code> directly.</li>
</ul>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Staging and Testnet</div><div class="admonitionContent_BuS1"><p>For Staging and Testnet environments, the protocol contracts are already deployed. The script will exit and instruct you to copy the appropriate <code>.env</code> file and run <code>surge-stack-deployer.sh</code> directly.</p></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="remote-or-local">Remote or Local<a href="#remote-or-local" class="hash-link" aria-label="Direct link to Remote or Local" title="Direct link to Remote or Local">​</a></h4>
<p>Choose <code>local</code> if you are deploying everything on a single machine. Choose <code>remote</code> if you are deploying across multiple machines or connecting to remote devnet instances.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="devnet-machine-devnet--remote-only">Devnet Machine (Devnet + Remote only)<a href="#devnet-machine-devnet--remote-only" class="hash-link" aria-label="Direct link to Devnet Machine (Devnet + Remote only)" title="Direct link to Devnet Machine (Devnet + Remote only)">​</a></h4>
<p>This option is only available when you select <code>Devnet</code> environment and <code>remote</code> deployment:</p>
<ul>
<li><strong>Devnet 1 (prover)</strong>: Connects to <code>devnet-one.surge.wtf</code></li>
<li><strong>Devnet 2 (taiko-client)</strong>: Connects to <code>devnet-two.surge.wtf</code></li>
<li><strong>Others</strong>: Uses your machine&#x27;s IP address for custom devnet deployment</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="timelocked-owner">Timelocked Owner<a href="#timelocked-owner" class="hash-link" aria-label="Direct link to Timelocked Owner" title="Direct link to Timelocked Owner">​</a></h4>
<p>You can choose whether to use a timelocked owner for the deployed contracts.
This feature allows transferring the ownership of the contracts to a timelock contract,
which will delay any ownership changes by a predefined time period.</p>
<p>For testing and non-production environments, you can safely choose <code>false</code> to simplify management.</p>
<p>Note that with a timelocked owner you won&#x27;t be able to re-register provers and change these parameters later without redeploying the protocol.</p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>After these prompts, the script will deploy protocol contracts and output addresses of created smart contracts.
Some of these addresses (e.g. <code>SUCCINCT_VERIFIER</code>, <code>RISC0_GROTH16_VERIFIER</code>) are required for prover configuration.
You can also find these addresses in the <code>deployment/deploy_l1.json</code> file.</p></div></div>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Resuming Deployment</div><div class="admonitionContent_BuS1"><p>You can safely cancel the script at any time by pressing <code>Ctrl + C</code>. The script saves the progress and you can resume later.
If you have already deployed the protocol contracts, the script will ask you:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">╔══════════════════════════════════════════════════════════════╗</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ⚠️ Surge L1 deployment already completed</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  (deploy_l1.json exists)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">║══════════════════════════════════════════════════════════════║</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">║ Start a new deployment? (true/false) [default: false]        ║</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">╚══════════════════════════════════════════════════════════════╝</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Here you can redeploy the protocol or just use the existing deployment.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="4-prover-deployment">4. Prover Deployment<a href="#4-prover-deployment" class="hash-link" aria-label="Direct link to 4. Prover Deployment" title="Direct link to 4. Prover Deployment">​</a></h3>
<p>In Surge, provers are required to be registered in the protocol before they can start proving tasks.
The script will ask whether provers are running and ready for registration:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">╔══════════════════════════════════════════════════════════════╗</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">║ Running provers? (true/false) [default: false]               ║</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">╚══════════════════════════════════════════════════════════════╝</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>If you choose <code>true</code>, the script will guide you through setting up different prover types:</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="sgx-provers">SGX Provers<a href="#sgx-provers" class="hash-link" aria-label="Direct link to SGX Provers" title="Direct link to SGX Provers">​</a></h4>
<ul>
<li><strong>SGX Raiko (RETH)</strong>: For SGX-based proving with RETH execution</li>
<li><strong>SGX Gaiko (GETH)</strong>: For SGX-based proving with GETH execution</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="zk-provers">ZK Provers<a href="#zk-provers" class="hash-link" aria-label="Direct link to ZK Provers" title="Direct link to ZK Provers">​</a></h4>
<ul>
<li><strong>SP1</strong>: For SP1-based zero-knowledge proving</li>
<li><strong>RISC0</strong>: For RISC0-based zero-knowledge proving</li>
</ul>
<p>For each prover type you choose to run, the script will:</p>
<ol>
<li>Retrieve guest data from your prover endpoints</li>
<li>Validate required parameters (MR_ENCLAVE, MR_SIGNER, program keys, etc.)</li>
<li>Set up and register the verifier contracts</li>
</ol>
<p>You can type <code>false</code> and skip this step if you don&#x27;t want to run provers.
Otherwise, if you want to run provers, follow the instructions in the
<a href="/docs/guides/running-surge/provers">Provers Setup Guide</a> to deploy and register your provers before continuing.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="5-depositing-bond">5. Depositing Bond<a href="#5-depositing-bond" class="hash-link" aria-label="Direct link to 5. Depositing Bond" title="Direct link to 5. Depositing Bond">​</a></h3>
<p>The script will ask you whether you want to deposit the proving liveness bond for your provers:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">╔══════════════════════════════════════════════════════════════╗</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">║ Deposit bond? (true/false) [default: true]                   ║</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">╚══════════════════════════════════════════════════════════════╝</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">╔══════════════════════════════════════════════════════════════╗</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">║ Enter bond amount (in ETH, default: 1000)                    ║</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">╚══════════════════════════════════════════════════════════════╝</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>It&#x27;s recommended to deposit the bond to ensure your provers remain active and available for proving tasks.
The default bond amount is 1000 ETH (converted to wei automatically).</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="6-next-steps">6. Next Steps<a href="#6-next-steps" class="hash-link" aria-label="Direct link to 6. Next Steps" title="Direct link to 6. Next Steps">​</a></h3>
<p>After completing the protocol deployment, you can proceed to deploy Surge stack components using:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">./surge-stack-deployer.sh</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="stack-deployment">Stack Deployment<a href="#stack-deployment" class="hash-link" aria-label="Direct link to Stack Deployment" title="Direct link to Stack Deployment">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-start-script">1. Start Script<a href="#1-start-script" class="hash-link" aria-label="Direct link to 1. Start Script" title="Direct link to 1. Start Script">​</a></h3>
<p>Start the script for deploying Surge stack components:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">./surge-stack-deployer.sh</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>You&#x27;ll see the same environment selection prompts as in the protocol deployment script.
Set the same values as before to ensure the script uses the correct configuration.</p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Environment File</div><div class="admonitionContent_BuS1"><p>The stack deployer will check for an existing <code>.env</code> file. If not found, it will exit with an error asking you to create one first by running the protocol deployer.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-stack-components">2. Stack Components<a href="#2-stack-components" class="hash-link" aria-label="Direct link to 2. Stack Components" title="Direct link to 2. Stack Components">​</a></h3>
<p>The script will ask you which L2 stack components you want to deploy:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">╔══════════════════════════════════════════════════════════════╗</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">║ Enter L2 stack option:                                       ║</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">║ 1 for driver only                                            ║</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">║ 2 for driver + proposer                                      ║</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">║ 3 for driver + proposer + spammer                            ║</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">║ 4 for driver + proposer + prover + spammer                   ║</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">║ 5 for all except spammer                                     ║</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">║ [default: all]                                               ║</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">╚══════════════════════════════════════════════════════════════╝</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><strong>Driver</strong> - Starts the Nethermind Execution Client for L2 network operation</li>
<li><strong>Proposer</strong> - Initiates the Proposer service for transaction bundling and block proposals</li>
<li><strong>Prover</strong> - Starts the Prover Relayer for proof relay, this component requests proofs from your provers and submits them on-chain</li>
<li><strong>Spammer</strong> - Launches a transaction spammer to generate load on the L2 network for testing purposes</li>
<li><strong>BlockScout</strong> - Block explorer for L2 (included in all options)</li>
</ul>
<p>Choose the option that best fits your testing or deployment needs. For a full setup, select the default (all components) or option <code>5</code> to deploy all components except the spammer.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="3-relayer-and-l2-smart-contracts">3. Relayer and L2 Smart Contracts<a href="#3-relayer-and-l2-smart-contracts" class="hash-link" aria-label="Direct link to 3. Relayer and L2 Smart Contracts" title="Direct link to 3. Relayer and L2 Smart Contracts">​</a></h3>
<p>The script will ask you:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">╔══════════════════════════════════════════════════════════════╗</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">║ Start relayers? (true/false) [default: true]                 ║</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">╚══════════════════════════════════════════════════════════════╝</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>If you choose <code>true</code>, the script will:</p>
<ol>
<li><strong>Deploy L2 Smart Contracts</strong> (for Devnet only) - Deploys the L2 side of the bridge contracts</li>
<li><strong>Initialize Services</strong> - Sets up database and message queues</li>
<li><strong>Run Migrations</strong> - Executes database schema migrations</li>
<li><strong>Start Relayers</strong> - Launches L1 and L2 relayer services</li>
<li><strong>Generate Bridge UI Configs</strong> - Creates configuration files for the Bridge UI</li>
<li><strong>Start Bridge UI</strong> - Launches the user interface for cross-chain transfers</li>
</ol>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="bridge-ui">Bridge UI<a href="#bridge-ui" class="hash-link" aria-label="Direct link to Bridge UI" title="Direct link to Bridge UI">​</a></h4>
<p>The Bridge UI is the user-facing interface for transferring assets between Layer 1 and Layer 2, enabling seamless interaction with Surge&#x27;s cross-chain functionality. It relies on the underlying Relayer and smart contracts to facilitate these transfers securely.</p>
<p>The script automatically generates configuration files including:</p>
<ul>
<li><code>configs/configuredBridges.json</code> - Bridge contract addresses</li>
<li><code>configs/configuredChains.json</code> - Chain configurations</li>
<li><code>configs/configuredRelayer.json</code> - Relayer endpoints</li>
<li><code>configs/configuredEventIndexer.json</code> - Event indexer configuration</li>
<li><code>configs/configuredCustomTokens.json</code> - Custom token configurations</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="relayer">Relayer<a href="#relayer" class="hash-link" aria-label="Direct link to Relayer" title="Direct link to Relayer">​</a></h4>
<p>The Relayer is a key component that facilitates cross-layer communication between Layer 1 and Layer 2, such as submitting proofs or syncing finalized state. It ensures that Surge&#x27;s L2 state transitions are correctly reflected and verified on L1.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="blockscout">BlockScout<a href="#blockscout" class="hash-link" aria-label="Direct link to BlockScout" title="Direct link to BlockScout">​</a></h4>
<p>Provides a web-based interface to:</p>
<ul>
<li>Explore blocks, transactions, and accounts</li>
<li>Verify smart contracts</li>
<li>Monitor network activity</li>
<li>Track token transfers and balances</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="cleanup-and-management">Cleanup and Management<a href="#cleanup-and-management" class="hash-link" aria-label="Direct link to Cleanup and Management" title="Direct link to Cleanup and Management">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="removing-deployment">Removing Deployment<a href="#removing-deployment" class="hash-link" aria-label="Direct link to Removing Deployment" title="Direct link to Removing Deployment">​</a></h3>
<p>To clean up your deployment, use the removal script:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">./surge-remover.sh</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This script will:</p>
<ul>
<li>Stop and remove all Docker containers</li>
<li>Clean up databases and data directories</li>
<li>Remove generated configuration files</li>
<li>Remove Docker networks</li>
<li>Preserve the <code>.env</code> file (commented out by default)</li>
</ul>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>Data Loss</div><div class="admonitionContent_BuS1"><p>The removal script will permanently delete all blockchain data, databases, and configurations. Make sure to backup any important data before running this script.</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="verification">Verification<a href="#verification" class="hash-link" aria-label="Direct link to Verification" title="Direct link to Verification">​</a></h2>
<p>After deploying all components, ensure everything is running correctly by:</p>
<ul>
<li>Checking the status of Docker containers using <code>docker compose ps</code></li>
<li>Checking prover logs to ensure they are operating correctly</li>
<li>Sending test transactions on L2 and verifying they are processed and finalized on L1</li>
<li>Accessing BlockScout for L1 and L2 chain exploration and verification:<!-- -->
<ul>
<li><strong>L1 BlockScout:</strong> <code>http://localhost:36005</code> (or your configured port)</li>
<li><strong>L2 BlockScout:</strong> <code>http://localhost:3000</code> (or your configured <code>BLOCKSCOUT_FRONTEND_PORT</code>)</li>
</ul>
</li>
<li>Accessing the Bridge UI: <code>http://localhost:3001</code> (or your configured port)</li>
<li>Checking relayer APIs:<!-- -->
<ul>
<li><strong>L1 Relayer:</strong> <code>http://localhost:4102</code></li>
<li><strong>L2 Relayer:</strong> <code>http://localhost:4103</code></li>
</ul>
</li>
</ul>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Port Configuration</div><div class="admonitionContent_BuS1"><p>The actual ports may vary based on your <code>.env</code> configuration. Check your environment variables for the exact ports:</p><ul>
<li><code>L2_HTTP_PORT</code> (default: 8547) for L2 RPC</li>
<li><code>BLOCKSCOUT_FRONTEND_PORT</code> (default: 3000) for BlockScout</li>
<li>Relayer ports are typically 4102 (L1) and 4103 (L2)</li>
</ul></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/NethermindEth/surge-docs/tree/main/docs/guides/running-surge/deploy-l2.mdx" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2025-10-17T14:57:20.000Z" itemprop="dateModified">Oct 17, 2025</time></b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/guides/running-surge/deploy-l1"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Deploy L1</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/guides/running-surge/provers"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Set up Provers</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#protocol-deployment" class="table-of-contents__link toc-highlight">Protocol Deployment</a><ul><li><a href="#1-clone-repository" class="table-of-contents__link toc-highlight">1. Clone Repository</a></li><li><a href="#2-configure-environment" class="table-of-contents__link toc-highlight">2. Configure Environment</a></li><li><a href="#3-start-protocol-deployment-script" class="table-of-contents__link toc-highlight">3. Start Protocol Deployment Script</a></li><li><a href="#4-prover-deployment" class="table-of-contents__link toc-highlight">4. Prover Deployment</a></li><li><a href="#5-depositing-bond" class="table-of-contents__link toc-highlight">5. Depositing Bond</a></li><li><a href="#6-next-steps" class="table-of-contents__link toc-highlight">6. Next Steps</a></li></ul></li><li><a href="#stack-deployment" class="table-of-contents__link toc-highlight">Stack Deployment</a><ul><li><a href="#1-start-script" class="table-of-contents__link toc-highlight">1. Start Script</a></li><li><a href="#2-stack-components" class="table-of-contents__link toc-highlight">2. Stack Components</a></li><li><a href="#3-relayer-and-l2-smart-contracts" class="table-of-contents__link toc-highlight">3. Relayer and L2 Smart Contracts</a></li></ul></li><li><a href="#cleanup-and-management" class="table-of-contents__link toc-highlight">Cleanup and Management</a><ul><li><a href="#removing-deployment" class="table-of-contents__link toc-highlight">Removing Deployment</a></li></ul></li><li><a href="#verification" class="table-of-contents__link toc-highlight">Verification</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://discord.com/invite/PaCMRFdvWT" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://x.com/nethermindeth" target="_blank" rel="noopener noreferrer" class="footer__link-item">X (Twitter)<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/NethermindEth/surge" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://nethermind.io/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Nethermind<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/docs/intro">Documentation</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Nethermind</div></div></div></footer></div>
</body>
</html>